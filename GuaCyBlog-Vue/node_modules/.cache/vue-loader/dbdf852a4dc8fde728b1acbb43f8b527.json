{"remainingRequest":"D:\\Desktop\\GuaCyBlog (1)\\GuaCyBlog\\GuaCyBlog-Vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\GuaCyBlog (1)\\GuaCyBlog\\GuaCyBlog-Vue\\src\\components\\admin\\Friend.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Desktop\\GuaCyBlog (1)\\GuaCyBlog\\GuaCyBlog-Vue\\src\\components\\admin\\Friend.vue","mtime":1601186279335},{"path":"D:\\Desktop\\GuaCyBlog (1)\\GuaCyBlog\\GuaCyBlog-Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\GuaCyBlog (1)\\GuaCyBlog\\GuaCyBlog-Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Desktop\\GuaCyBlog (1)\\GuaCyBlog\\GuaCyBlog-Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\GuaCyBlog (1)\\GuaCyBlog\\GuaCyBlog-Vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8v57KJ5Lid44CB5YWz5rOo44CB5pCc57Si55So5oi3DQogICAgIA0KICAgICAgdXNlcmxpc3Q6IFtdLA0KICAgICAgc3VzZXJsaXN0OiBbXSwNCiAgICAgIHZhbHVlOiAiIiwNCiAgICAgIHY6ICIiLA0KICAgICAgYWN0aXZlTmFtZTogImZpcnN0IiwNCiAgICAgIHByb3BzOlsncGFnZSddLA0KICAgICAgdXNlcjogew0KICAgICAgICBpZDogd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpLA0KICAgICAgfSwNCg0KICAgICAgLy/mt7vliqBmb2xsb3flhbPns7sNCiAgICAgIGZvbGxvdzogew0KICAgICAgICBmb2xsb3dpbmdJZDogIiIsDQogICAgICAgIGZvbGxvd2VySWQ6ICIiLA0KICAgICAgfSwNCiAgICB9Ow0KICB9LA0KICB3YXRjaDogew0KICAgIHNmb2xsb3dpbmdzOiB7DQogICAgICBoYW5kbGVyIDogKHZhbCxvbFZhbCkgPT57DQogICAgICAgICAgIA0KICAgICAgfSwNCiAgICAgIGRlZXA6IHRydWUNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRVc2VyTGlzdCgpOw0KICB9LA0KICBtZXRob2RzOiB7DQoNCiAgICBhc3luYyBnZXRVc2VyTGlzdCgpIHsNCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoInVzZXIvdXNlcnMiKTsNCiAgICAgIHRoaXMudXNlcmxpc3QgPSByZXMudXNlcmxpc3Q7DQogICAgfSwNCiAgICB2aXNpdG9yKHgpIHsNCiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ2aXNpdGluZ0lkIix4LmlkKTsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvd2VsY29tZScpOw0KICAgIH0sDQogICAgYXN5bmMgYWRkZm9sbG93KHgpIHsNCiAgICAgIHRoaXMuZm9sbG93LmZvbGxvd2VySWQgPSB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlcklkIik7DQogICAgICB0aGlzLmZvbGxvdy5mb2xsb3dpbmdJZCA9IHg7DQogICAgICB0aGlzLiRtZXNzYWdlX3N1Y2Nlc3MoeCk7DQogICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KA0KICAgICAgICAidXNlci9hZGRmb2xsb3ciLA0KICAgICAgICB0aGlzLmZvbGxvdw0KICAgICAgKTsNCiAgICAgIHRoaXMuJG1lc3NhZ2Vfc3VjY2VzcyhyZXMpOw0KICAgIH0sDQogICAgYXN5bmMgZ2V0bGlzdCgpIHsNCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoInVzZXIvdXNlcnMiKTsNCiAgICAgIHRoaXMudXNlcmxpc3QgPSByZXMudXNlcmxpc3Q7DQogICAgICB2YXIgdiA9IHRoaXMudjsNCiAgICAgIHRoaXMuJG1lc3NhZ2Vfc3VjY2VzcygiZW50ZXIgIiArIHYpOw0KICAgICAgaWYgKHYpIHsNCiAgICAgICAgdGhpcy5zdXNlcmxpc3QgPSB0aGlzLnVzZXJsaXN0LmZpbHRlcihmdW5jdGlvbiAocHJvZHVjdCkgew0KICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhwcm9kdWN0KS5zb21lKGZ1bmN0aW9uIChrZXkpIHsNCiAgICAgICAgICAgIHJldHVybiBTdHJpbmcocHJvZHVjdFtrZXldKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodikgPiAtMTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgIA0KIA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Friend.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"Friend.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\r\n  <div class=\"friend\">\r\n    <el-main>\r\n          <el-input placeholder=\"输入用户名\" v-model=\"v\">\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" type=\"text\" @click=\"getlist\"></el-button>\r\n          </el-input>\r\n          <!--个人资料卡-->\r\n          <div v-for=\"(user,index) in suserlist\" :key=\"index\">\r\n            <el-card>\r\n              <el-button\r\n                style=\"float: right; padding: 3px 0;\"\r\n                type=\"text\"\r\n                @click=\"addfollow(user.id)\"\r\n              >关注</el-button>\r\n              <el-avatar>\r\n                <img v-if=\"user.userimg\" :src=\"user.userimg\"   />\r\n              </el-avatar>\r\n              <div>{{user.username}}</div>\r\n              <div class=\"intro-text\">{{user.intro}}</div>\r\n              <el-divider></el-divider>\r\n              <div>\r\n                <el-button type=\"text\">文章数:{{user.articleNum}}</el-button>\r\n                <el-divider direction=\"vertical\"></el-divider>\r\n                <el-button type=\"text\">粉丝数:{{user.followerNum}}</el-button>\r\n                <el-divider direction=\"vertical\"></el-divider>\r\n                <el-button type=\"text\">关注数:{{user.followingNum}}</el-button>\r\n                <el-divider direction=\"vertical\"></el-divider>\r\n              </div>\r\n            </el-card>\r\n          </div>\r\n    </el-main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //粉丝、关注、搜索用户\r\n     \r\n      userlist: [],\r\n      suserlist: [],\r\n      value: \"\",\r\n      v: \"\",\r\n      activeName: \"first\",\r\n      props:['page'],\r\n      user: {\r\n        id: window.sessionStorage.getItem(\"userId\"),\r\n      },\r\n\r\n      //添加follow关系\r\n      follow: {\r\n        followingId: \"\",\r\n        followerId: \"\",\r\n      },\r\n    };\r\n  },\r\n  watch: {\r\n    sfollowings: {\r\n      handler : (val,olVal) =>{\r\n           \r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  created() {\r\n    this.getUserList();\r\n  },\r\n  methods: {\r\n\r\n    async getUserList() {\r\n      const { data: res } = await this.$http.post(\"user/users\");\r\n      this.userlist = res.userlist;\r\n    },\r\n    visitor(x) {\r\n      window.sessionStorage.setItem(\"visitingId\",x.id);\r\n      this.$router.push('/welcome');\r\n    },\r\n    async addfollow(x) {\r\n      this.follow.followerId = window.sessionStorage.getItem(\"userId\");\r\n      this.follow.followingId = x;\r\n      this.$message_success(x);\r\n      const { data: res } = await this.$http.post(\r\n        \"user/addfollow\",\r\n        this.follow\r\n      );\r\n      this.$message_success(res);\r\n    },\r\n    async getlist() {\r\n      const { data: res } = await this.$http.post(\"user/users\");\r\n      this.userlist = res.userlist;\r\n      var v = this.v;\r\n      this.$message_success(\"enter \" + v);\r\n      if (v) {\r\n        this.suserlist = this.userlist.filter(function (product) {\r\n          return Object.keys(product).some(function (key) {\r\n            return String(product[key]).toLowerCase().indexOf(v) > -1;\r\n          });\r\n        });\r\n      }\r\n    },\r\n   \r\n \r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.el-card {\r\n  line-height: 30px;\r\n}\r\n.el-main {\r\n  padding: 80px;\r\n  line-height: 40px;\r\n}\r\n.el-table {\r\n  line-height: 40px;\r\n}\r\n.el-tabs {\r\n  line-height: 40px;\r\n}\r\n.friend {\r\n  line-height: 40px;\r\n}\r\n</style>"]}]}