{"remainingRequest":"C:\\Users\\20372\\Desktop\\G\\GuaCyBlog(2)\\GuaCyBlog\\GuaCyBlog\\GuaCyBlog-Vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\20372\\Desktop\\G\\GuaCyBlog(2)\\GuaCyBlog\\GuaCyBlog\\GuaCyBlog-Vue\\src\\components\\showArticle.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\20372\\Desktop\\G\\GuaCyBlog(2)\\GuaCyBlog\\GuaCyBlog\\GuaCyBlog-Vue\\src\\components\\showArticle.vue","mtime":1600695930925},{"path":"C:\\Users\\20372\\Desktop\\G\\GuaCyBlog(2)\\GuaCyBlog\\GuaCyBlog\\GuaCyBlog-Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\20372\\Desktop\\G\\GuaCyBlog(2)\\GuaCyBlog\\GuaCyBlog\\GuaCyBlog-Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\20372\\Desktop\\G\\GuaCyBlog(2)\\GuaCyBlog\\GuaCyBlog\\GuaCyBlog-Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\20372\\Desktop\\G\\GuaCyBlog(2)\\GuaCyBlog\\GuaCyBlog\\GuaCyBlog-Vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgJ2dpdGh1Yi1tYXJrZG93bi1jc3MvZ2l0aHViLW1hcmtkb3duLmNzcycNCmV4cG9ydCBkZWZhdWx0ew0KICBuYW1lIDogJ3Nob3dBcnRpY2xlJywNCiAgLy9wcm9wczpbJ2FydGljbGVUZXh0J10sDQogIC8vIGFydGljbGVUZXh0IDogJyMg5L2g5aW9JywNCiAgY3JlYXRlZCgpIHsNCiAgLy8gIGdldENvbW1lbnQodGhpcy4kcm91dGUucXVlcnkuYXJ0aWNsZSk7DQogIH0sDQogIGRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICBhcnRpY2xlOnRoaXMuJHJvdXRlLnF1ZXJ5LmFydGljbGUsDQogICAgICBjb21tZW50TGlzdCA6dGhpcy4kcm91dGUucXVlcnkuY29tbWVudExpc3QsDQogICAgICB1c2VyOiB7DQogICAgICAgIGlkOndpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKSwNCiAgICAgICAgdXNlcm5hbWU6d2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJuYW1lIiksDQogICAgICB9LA0KICAgICAgLy/or4TorrrmoLzlvI8NCiAgICAgIGNvbW1lbnRGb3JtOiB7DQogICAgICAgIHJldmlld2VySWQ6JycgLA0KICAgICAgICBhcnRpY2xlSWQ6JycsDQogICAgICAgIGNvbW1lbnRUZXh0OicnLA0KICAgICAgICBjb21tZW50VGltZTonJw0KICAgICAgfSwNCiAgICAgIC8v5L+h5oGv5qC85byPDQogICAgICBpbmZvRm9ybTogew0KICAgICAgICBwb3N0VXNlcklkOndpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKSwNCiAgICAgICAgcmVjZWl2ZVVzZXJJZDonJywNCiAgICAgICAgdHlwZTonJywNCiAgICAgICAgYXJ0aWNsZUlkOicnLA0KICAgICAgICBpc1JlYWQ6MA0KICAgICAgfSwNCiAgICAgIC8v6K+E6K666KeE5YiZDQogICAgICBjb21tZW50UnVsZXM6IHsNCiAgICAgICAgY29tbWVudFRleHQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+E6K665YaF5a655LiN5b6X5Li656m6IiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgICAgeyBtYXg6IDEwMCwgbWVzc2FnZTogIumVv+W6puWcqCAxMDAg5Liq5a2X56ym5Lul5YaFIiwgdHJpZ2dlcjogImJsdXIiIH0NCiAgICAgICAgXSwNCiAgICAgIH0gICAgIA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCg0KICAgICAgYXN5bmMgc3VibWl0Q29tbWVudCgpew0KICAgICAgIC8v5aSE55CG6K+E6K66DQogICAgICAgdGhpcy5jb21tZW50Rm9ybS5hcnRpY2xlSWQ9dGhpcy5hcnRpY2xlLmFydGljbGVJZDsNCiAgICAgICB0aGlzLmNvbW1lbnRGb3JtLnJldmlld2VySWQ9dGhpcy5hcnRpY2xlLnVzZXJJZDsNCiAgICANCiAgICAgICBjb25zdCB7ZGF0YSA6cmVzMX0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoImFydGljbGUvYWRkQ29tbWVudCIsIHRoaXMuY29tbWVudEZvcm0pOw0KICAgICAgIHRoaXMuJG1lc3NhZ2Vfc3VjY2VzcyhyZXMxKTsNCiAgICAgICAvL+WkhOeQhumAmuefpQ0KICAgICAgIHRoaXMuaW5mb0Zvcm0ucmVjZWl2ZVVzZXJJZD10aGlzLmFydGljbGUudXNlcklkOw0KICAgICAgIHRoaXMuaW5mb0Zvcm0udHlwZT0nMic7DQogICAgICAgdGhpcy5pbmZvRm9ybS5hcnRpY2xlSWQ9dGhpcy5hcnRpY2xlLmFydGljbGVJZDsNCiAgICAgICBjb25zdCB7ZGF0YTpyZXMyIH09YXdhaXQgdGhpcy4kaHR0cC5wb3N0KCJpbmZvL2FkZEluZm8iLHRoaXMuaW5mb0Zvcm0pOw0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Vfc3VjY2VzcyhyZXMyKTsNCiAgICAgICANCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgcHJvcCAoKSB7DQogICAgICBsZXQgZGF0YSA9IHsNCiAgICAgICAgc3ViZmllbGQ6IGZhbHNlLC8vIOWNleWPjOagj+aooeW8jw0KICAgICAgICBkZWZhdWx0T3BlbjogJ3ByZXZpZXcnLC8vZWRpdO+8miDpu5jorqTlsZXnpLrnvJbovpHljLrln58g77yMIHByZXZpZXfvvJog6buY6K6k5bGV56S66aKE6KeI5Yy65Z+fDQogICAgICAgIGVkaXRhYmxlOiBmYWxzZSwNCiAgICAgICAgdG9vbGJhcnNGbGFnOiBmYWxzZSwNCiAgICAgICAgc2Nyb2xsU3R5bGU6IHRydWUNCiAgICAgIH0NCiAgICAgIHJldHVybiBkYXRhDQogICAgfQ0KICB9LA0KfQ0K"},{"version":3,"sources":["showArticle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"showArticle.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-container>\r\n    <el-aside>haha</el-aside>\r\n    <el-main>\r\n      <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n        <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item :to=\"{ path: '/article' }\">文章列表</el-breadcrumb-item>\r\n        <el-breadcrumb-item :to=\"{ path: '/show' }\">{{article.articleTitle}}</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n\r\n      <mavon-editor\r\n          class=\"md\"\r\n          :value=\"article.articleText\"\r\n      :subfield = \"prop.subfield\"\r\n      :defaultOpen = \"prop.defaultOpen\"\r\n      :toolbarsFlag = \"prop.toolbarsFlag\"\r\n      :editable=\"prop.editable\"\r\n      :scrollStyle=\"prop.scrollStyle\"\r\n      ></mavon-editor>\r\n     \r\n\r\n    <el-container direction=\"vertical\"  v-theme:bg=\"'wide'\">\r\n      <el-row type=\"flex\" justify=\"left\" >\r\n        <el-col >\r\n          <div class=\"comment-box\" v-for=\"comment in commentList\" v-bind:key=\"comment\" v-box=\"'box'\">\r\n            <article class=\"comment-text\">{{comment.commentText}}</article>\r\n          \r\n            <el-row class=\"inscribe\" style=\"height:30px\" type=\"flex\" align=\"bottom\" >\r\n            <el-col :span=\"6\" >评论时间：{{comment.commentTime}}\r\n            </el-col>\r\n            <el-col :span=\"3\">用户：{{comment.reviewerId}}</el-col>\r\n          </el-row>\r\n           \r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n  </el-container>\r\n\r\n     <el-form class=\"comment-container\" :model=\"commentForm\" ref=\"commentForm\"\r\n      :rules=\"commentRules\" label-position=\"left\">\r\n        <h4 class=\"comment-title\">发布评论</h4>\r\n        <el-form-item prop=\"commentText\">\r\n          <el-input type=\"textarea\" :rows=\"3\" v-model=\"commentForm.commentText\" auto-complete=\"off\" placeholder=\"评论内容\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button class=\"comment-button\" type=\"primary\" @click=\"submitComment\">发布</el-button>\r\n        </el-form-item>\r\n     </el-form>\r\n          \r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport 'github-markdown-css/github-markdown.css'\r\nexport default{\r\n  name : 'showArticle',\r\n  //props:['articleText'],\r\n  // articleText : '# 你好',\r\n  created() {\r\n  //  getComment(this.$route.query.article);\r\n  },\r\n  data(){\r\n    return{\r\n      article:this.$route.query.article,\r\n      commentList :this.$route.query.commentList,\r\n      user: {\r\n        id:window.sessionStorage.getItem(\"userId\"),\r\n        username:window.sessionStorage.getItem(\"username\"),\r\n      },\r\n      //评论格式\r\n      commentForm: {\r\n        reviewerId:'' ,\r\n        articleId:'',\r\n        commentText:'',\r\n        commentTime:''\r\n      },\r\n      //信息格式\r\n      infoForm: {\r\n        postUserId:window.sessionStorage.getItem(\"userId\"),\r\n        receiveUserId:'',\r\n        type:'',\r\n        articleId:'',\r\n        isRead:0\r\n      },\r\n      //评论规则\r\n      commentRules: {\r\n        commentText: [\r\n          { required: true, message: \"评论内容不得为空\", trigger: \"blur\" },\r\n          { max: 100, message: \"长度在 100 个字符以内\", trigger: \"blur\" }\r\n        ],\r\n      }     \r\n    };\r\n  },\r\n  methods: {\r\n\r\n      async submitComment(){\r\n       //处理评论\r\n       this.commentForm.articleId=this.article.articleId;\r\n       this.commentForm.reviewerId=this.article.userId;\r\n    \r\n       const {data :res1} = await this.$http.post(\"article/addComment\", this.commentForm);\r\n       this.$message_success(res1);\r\n       //处理通知\r\n       this.infoForm.receiveUserId=this.article.userId;\r\n       this.infoForm.type='2';\r\n       this.infoForm.articleId=this.article.articleId;\r\n       const {data:res2 }=await this.$http.post(\"info/addInfo\",this.infoForm);\r\n          this.$message_success(res2);\r\n       \r\n    }\r\n  },\r\n  computed: {\r\n    prop () {\r\n      let data = {\r\n        subfield: false,// 单双栏模式\r\n        defaultOpen: 'preview',//edit： 默认展示编辑区域 ， preview： 默认展示预览区域\r\n        editable: false,\r\n        toolbarsFlag: false,\r\n        scrollStyle: true\r\n      }\r\n      return data\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n.markdown-body {\r\n  box-sizing:border-box;\r\n  min-width: 200px;\r\n  max-width: 98%;\r\n  margin:0 auto;\r\n  box-shadow:2px 4px 6px gray;\r\n  padding-left: 20px;\r\n  padding-right: 15px;\r\n  padding-top: 40px;\r\n  padding-bottom: 45px;\r\n  margin-bottom:100px;\r\n}\r\n  .comment-box a{\r\n    color: #696969;\r\n    line-height:80px;\r\n    float:left\r\n  }\r\n  \r\n</style>\r\n"]}]}