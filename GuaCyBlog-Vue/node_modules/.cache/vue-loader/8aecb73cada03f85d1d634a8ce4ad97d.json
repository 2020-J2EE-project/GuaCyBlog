{"remainingRequest":"D:\\Desktop\\GuaCyBlog-Vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Desktop\\GuaCyBlog-Vue\\src\\components\\admin\\Article.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Desktop\\GuaCyBlog-Vue\\src\\components\\admin\\Article.vue","mtime":1600357690956},{"path":"D:\\Desktop\\GuaCyBlog-Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\GuaCyBlog-Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Desktop\\GuaCyBlog-Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Desktop\\GuaCyBlog-Vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6K+35rGC5pWw5o2uCiAgICAgIHF1ZXJ5SW5mbzogewogICAgICAgIHF1ZXJ5OiAiIiwKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiA1CiAgICAgIH0sCiAgICAgIHVzZXJsaXN0OiBbXSwvLyDnlKjmiLfliJfooagKCiAgICAgIHRvdGFsOiAwLCAvLyDmnIDlpKfmlbDmja7orrDlvZUKICAgICAgYWRkRGlhbG9nVmlzaWJsZTogZmFsc2UgLC8vIOWvueivneahhuaYvuekugogICAgICAvLyDmt7vliqDnlKjmiLfooajljZXpobkKICAgICAgYWRkRm9ybTogewogICAgICAgIHVzZXJuYW1lOicnLAogICAgICAgIHBhc3N3b3JkOicnLAogICAgICAgIGVtYWlsOicnLAogICAgICB9LAogICAgICAvLyDmjqfliLbkv67mlLnnlKjmiLflr7nor53moYbmmL7npLov6ZqQ6JePCiAgICAgIGVkaXREaWFsb2dWaXNpYmxlOmZhbHNlLAogICAgICAvLyDkv67mlLnnlKjmiLfkv6Hmga8KICAgICAgZWRpdEZvcm06e30sCiAgICAgIC8vIOmqjOivgeinhOWImQogICAgICBhZGRGb3JtUnVsZXM6ewogICAgICAgIHVzZXJuYW1lOlsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXnlKjmiLflkI0iLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgIHsgbWluOiA1LCBtYXg6IDgsIG1lc3NhZ2U6ICLplb/luqblnKggNSDliLAgOCDkuKrlrZfnrKYiLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICAgIF0sCiAgICAgICAgcGFzc3dvcmQ6WwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeWvhueggSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgeyBtaW46IDYsIG1heDogOCwgbWVzc2FnZTogIumVv+W6puWcqCA2IOWIsCA4IOS4quWtl+espiIsIHRyaWdnZXI6ICJibHVyIiB9CiAgICAgICAgXSwKICAgICAgICBlbWFpbDpbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl6YKu566xIiwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgICB7IG1pbjogNSwgbWF4OiAxNSwgbWVzc2FnZTogIuivt+i+k+WFpeato+ehrumCrueuseWcsOWdgCIsIHRyaWdnZXI6ICJibHVyIiB9CiAgICAgICAgXSwKICAgICAgfSwKICAgICAgLy8g5L+u5pS555So5oi36KGo5Y2V6aqM6K+B6KeE5YiZCiAgICAgIGVkaXRGb3JtUnVsZXM6ewogICAgICAgIHBhc3N3b3JkOlsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fovpPlhaXlr4bnoIEiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgIHsgbWluOiA2LCBtYXg6IDgsIG1lc3NhZ2U6ICLplb/luqblnKggNiDliLAgOCDkuKrlrZfnrKYiLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICAgIF0sCiAgICAgICAgZW1haWw6WwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpemCrueusSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgeyBtaW46IDUsIG1heDogMTUsIG1lc3NhZ2U6ICLor7fovpPlhaXmraPnoa7pgq7nrrHlnLDlnYAiLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICAgIF0sCiAgICAgIH0sCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VXNlckxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdldFVzZXJMaXN0KCkgewogICAgICAvLyDosIPnlKhwb3N06K+35rGCCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgiYWxsVXNlciIsIHsKICAgICAgICBwYXJhbXM6IHRoaXMucXVlcnlJbmZvCiAgICAgIH0pOwogICAgICB0aGlzLnVzZXJsaXN0ID0gcmVzLmRhdGE7IC8vIOWwhui/lOWbnuaVsOaNrui1i+WAvAogICAgICB0aGlzLnRvdGFsID0gcmVzLm51bWJlcnM7IC8vIOaAu+S4quaVsAogICAgfSwKICAgIC8vIOebkeWQrHBhZ2VTaXpl5pS55Y+Y55qE5LqL5Lu2CiAgICBoYW5kbGVTaXplQ2hhbmdlKG5ld1NpemUpIHsKICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZVNpemUgPSBuZXdTaXplOwogICAgICB0aGlzLmdldFVzZXJMaXN0KCk7IC8vIOaVsOaNruWPkeeUn+aUueWPmOmHjeaWsOeUs+ivt+aVsOaNrgogICAgfSwKICAgIC8vIOebkeWQrHBhZ2VOdW3mlLnlj5jnmoTkuovku7YKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UobmV3UGFnZSkgewogICAgICB0aGlzLnF1ZXJ5SW5mby5wYWdlTnVtID0gbmV3UGFnZTsKICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpOyAvLyDmlbDmja7lj5HnlJ/mlLnlj5jph43mlrDnlLPor7fmlbDmja4KICAgIH0sCiAgICAvLyDkv67mlLnnlKjmiLfnirbmgIEKICAgIGFzeW5jIHVzZXJTdGF0ZUNoYW5nZWQodXNlcmluZm8pIHsKICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucHV0KAogICAgICAgICAgYHVzZXJTdGF0ZT9pZD0ke3VzZXJpbmZvLmlkfSZzdGF0ZT0ke3VzZXJpbmZvLnN0YXRlfWAKICAgICAgKTsKICAgICAgaWYgKHJlcyAhPSAic3VjY2VzcyIpIHsKICAgICAgICB1c2VyaW5mby5zdGF0ZSA9ICF1c2VyaW5mby5zdGF0ZTsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5pON5L2c5aSx6LSl77yB77yB77yBIik7CiAgICAgIH0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip/vvIHvvIHvvIEiKTsKICAgIH0sCiAgICAvLyDnm5HlkKzmt7vliqDnlKjmiLcKICAgIGFkZERpYWxvZ0Nsb3NlZCgpewogICAgICB0aGlzLiRyZWZzLmFkZEZvcm1SZWYucmVzZXRGaWVsZHMoKTsvLyDph43nva7ooajljZXpobkKICAgIH0sCiAgICAvLyDmt7vliqDnlKjmiLcKICAgIGFkZFVzZXIoKXsKICAgICAgdGhpcy4kcmVmcy5hZGRGb3JtUmVmLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+ewogICAgICAgIGNvbnNvbGUubG9nKHZhbGlkKTsKICAgICAgICBpZiggIXZhbGlkICkgcmV0dXJuOwogICAgICAgIC8vIOWPkei1t+ivt+axggogICAgICAgIGNvbnN0IHtkYXRhOnJlc30gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoImFkZFVzZXIiLHRoaXMuYWRkRm9ybSk7CiAgICAgICAgaWYgKHJlcyAhPSAic3VjY2VzcyIpIHsKICAgICAgICAgIHVzZXJpbmZvLnN0YXRlID0gIXVzZXJpbmZvLnN0YXRlOwogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuaTjeS9nOWksei0pe+8ge+8ge+8gSIpOwogICAgICAgIH0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuaTjeS9nOaIkOWKn++8ge+8ge+8gSIpOwogICAgICAgIC8v6ZqQ6JePCiAgICAgICAgdGhpcy5hZGREaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpOwogICAgICB9KQogICAgfSwKICAgIC8vIOWxleekuuS/ruaUueahhgogICAgYXN5bmMgc2hvd0VkaXREaWFsb2coaWQpewoKICAgICAgY29uc3Qge2RhdGE6cmVzfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCJnZXRVcGRhdGU/aWQ9IitpZCk7CiAgICAgIC8vIGlmIChyZXMgIT0gInN1Y2Nlc3MiKSB7CiAgICAgIC8vIHVzZXJpbmZvLnN0YXRlID0gIXVzZXJpbmZvLnN0YXRlOwogICAgICAvLyByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5pON5L2c5aSx6LSl77yB77yB77yBIik7CiAgICAgIC8vIH0KICAgICAgLy8gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip/vvIHvvIHvvIEiKTsKCiAgICAgIHRoaXMuZWRpdEZvcm0gPSByZXM7CiAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOWFs+mXreeql+WPowogICAgZWRpdERpYWxvZ0Nsb3NlZCgpewogICAgICB0aGlzLiRyZWZzLmVkaXRGb3JtUmVmLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgLy8g56Gu6K6k5L+u5pS5CiAgICBlZGl0VXNlckluZm8oKXsKICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybVJlZi52YWxpZGF0ZShhc3luYyB2YWxpZCA9PnsKICAgICAgICBjb25zb2xlLmxvZyh2YWxpZCk7CiAgICAgICAgaWYoICF2YWxpZCApIHJldHVybjsKICAgICAgICAvLyDlj5Hotbfor7fmsYIKICAgICAgICBjb25zdCB7ZGF0YTpyZXN9ID0gYXdhaXQgdGhpcy4kaHR0cC5wdXQoImVkaXRVc2VyIix0aGlzLmVkaXRGb3JtKTsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIGlmIChyZXMgIT0gInN1Y2Nlc3MiKSByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5pON5L2c5aSx6LSl77yB77yB77yBIik7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip/vvIHvvIHvvIEiKTsKICAgICAgICAvL+makOiXjwogICAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgICB0aGlzLmdldFVzZXJMaXN0KCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIoOmZpOaMiemSrgogICAgYXN5bmMgZGVsZXRlVXNlcihpZCl7CiAgICAgIC8vIOW8ueahhgogICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gYXdhaXQgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l55So5oi3LCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLmNhdGNoKGVyciA9PiBlcnIpCiAgICAgIC8vIOaIkOWKn+WIoOmZpOS4umNvbmZpcm0g5Y+W5raI5Li6IGNhbmNlbAogICAgICBpZihjb25maXJtUmVzdWx0IT0nY29uZmlybScpewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmluZm8oIuW3suWPlua2iOWIoOmZpCIpOwogICAgICB9CiAgICAgIGNvbnN0IHtkYXRhOnJlc30gPSBhd2FpdCB0aGlzLiRodHRwLmRlbGV0ZSgiZGVsZXRlVXNlcj9pZD0iK2lkKTsKICAgICAgaWYgKHJlcyAhPSAic3VjY2VzcyIpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcigi5pON5L2c5aSx6LSl77yB77yB77yBIik7CiAgICAgIH0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmk43kvZzmiJDlip/vvIHvvIHvvIEiKTsKICAgICAgdGhpcy5nZXRVc2VyTGlzdCgpOwogICAgfSwKICB9Cn07Cg=="},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Article.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n  <div>\n    <!-- 面包屑导航 -->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>博文中心</el-breadcrumb-item>\n      <el-breadcrumb-item></el-breadcrumb-item>\n    </el-breadcrumb>\n    <!-- 卡片视图区 -->\n    <el-card>\n      <el-row :gutter=\"25\">\n        <el-col :span=\"10\">\n          <!-- 搜索添加 -->\n          <el-input placeholder=\"请输入搜索内容\" v-model=\"queryInfo.query\" clearable @clear=\"getUserList\">\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getUserList\"></el-button>\n          </el-input>\n        </el-col>\n\n        <el-col :span=\"4\">\n          <el-button type=\"primary\" @click=\"addDialogVisible = true\">添加用户</el-button>\n        </el-col>\n      </el-row>\n      <!-- 用户列表 -->\n      <el-table :data=\"userlist\" border stripe>\n        <el-table-column type=\"index\"></el-table-column>\n        <el-table-column label=\"姓名\" prop=\"username\"></el-table-column>\n        <el-table-column label=\"邮箱\" prop=\"email\"></el-table-column>\n        <el-table-column label=\"密码\" prop=\"password\"></el-table-column>\n        <el-table-column label=\"角色\" prop=\"role\"></el-table-column>\n        <el-table-column label=\"状态\" prop=\"state\">\n          <!-- scope.row 就是当前行的信息 -->\n          <template slot-scope=\"scope\">\n            <el-switch v-model=\"scope.row.state\" @change=\"userStateChanged(scope.row)\"></el-switch>\n          </template>\n        </el-table-column>\n\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <!-- 修改 -->\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEditDialog(scope.row.id)\"></el-button>\n            <!-- 删除 -->\n            <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"deleteUser(scope.row.id)\"></el-button>\n            <!-- 权限 -->\n            <el-tooltip effect=\"dark\" content=\"分配权限\" placement=\"top-start\" :enterable=\"false\">\n              <el-button type=\"warning\" icon=\"el-icon-setting\" size=\"mini\"></el-button>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页 -->\n      <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"queryInfo.pageNum\"\n          :page-sizes=\"[1, 2, 5, 100]\"\n          :page-size=\"queryInfo.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\"\n      ></el-pagination>\n    </el-card>\n\n    <!-- 创建新用户对话框 -->\n    <el-dialog title=\"添加用户\" :visible.sync=\"addDialogVisible\" width=\"50%\"\n               @close=\"addDialogClosed\">\n      <!-- 内容主体区域 -->\n      <el-form :model=\"addForm\" :rules=\"addFormRules\"\n               ref=\"addFormRef\" label-width=\"70px\">\n        <!-- 用户名 -->\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"addForm.username\"></el-input>\n        </el-form-item>\n        <!-- 密码 -->\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"addForm.password\"></el-input>\n        </el-form-item>\n        <!-- 邮箱 -->\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"addForm.email\"></el-input>\n        </el-form-item>\n      </el-form>\n      <!-- 内容底部区域 -->\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <!-- 修改用户对话框 -->\n    <el-dialog title=\"修改用户信息\" :visible.sync=\"editDialogVisible\" width=\"50%\" @colse=\"editDialogClosed\">\n      <el-form :model=\"editForm\" :rules=\"editFormRules\" ref=\"editFormRef\" label-width=\"70px\">\n        <!-- 用户名 -->\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"editForm.username\" disabled></el-input>\n        </el-form-item>\n        <!-- 密码 -->\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"editForm.password\"></el-input>\n        </el-form-item>\n        <!-- 邮箱 -->\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"editForm.email\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      // 请求数据\n      queryInfo: {\n        query: \"\",\n        pageNum: 1,\n        pageSize: 5\n      },\n      userlist: [],// 用户列表\n\n      total: 0, // 最大数据记录\n      addDialogVisible: false ,// 对话框显示\n      // 添加用户表单项\n      addForm: {\n        username:'',\n        password:'',\n        email:'',\n      },\n      // 控制修改用户对话框显示/隐藏\n      editDialogVisible:false,\n      // 修改用户信息\n      editForm:{},\n      // 验证规则\n      addFormRules:{\n        username:[\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\n          { min: 5, max: 8, message: \"长度在 5 到 8 个字符\", trigger: \"blur\" }\n        ],\n        password:[\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\n          { min: 6, max: 8, message: \"长度在 6 到 8 个字符\", trigger: \"blur\" }\n        ],\n        email:[\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\n          { min: 5, max: 15, message: \"请输入正确邮箱地址\", trigger: \"blur\" }\n        ],\n      },\n      // 修改用户表单验证规则\n      editFormRules:{\n        password:[\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\n          { min: 6, max: 8, message: \"长度在 6 到 8 个字符\", trigger: \"blur\" }\n        ],\n        email:[\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\n          { min: 5, max: 15, message: \"请输入正确邮箱地址\", trigger: \"blur\" }\n        ],\n      },\n    };\n  },\n  created() {\n    this.getUserList();\n  },\n  methods: {\n    async getUserList() {\n      // 调用post请求\n      const { data: res } = await this.$http.get(\"allUser\", {\n        params: this.queryInfo\n      });\n      this.userlist = res.data; // 将返回数据赋值\n      this.total = res.numbers; // 总个数\n    },\n    // 监听pageSize改变的事件\n    handleSizeChange(newSize) {\n      this.queryInfo.pageSize = newSize;\n      this.getUserList(); // 数据发生改变重新申请数据\n    },\n    // 监听pageNum改变的事件\n    handleCurrentChange(newPage) {\n      this.queryInfo.pageNum = newPage;\n      this.getUserList(); // 数据发生改变重新申请数据\n    },\n    // 修改用户状态\n    async userStateChanged(userinfo) {\n      const { data: res } = await this.$http.put(\n          `userState?id=${userinfo.id}&state=${userinfo.state}`\n      );\n      if (res != \"success\") {\n        userinfo.state = !userinfo.state;\n        return this.$message.error(\"操作失败！！！\");\n      }\n      this.$message.success(\"操作成功！！！\");\n    },\n    // 监听添加用户\n    addDialogClosed(){\n      this.$refs.addFormRef.resetFields();// 重置表单项\n    },\n    // 添加用户\n    addUser(){\n      this.$refs.addFormRef.validate(async valid =>{\n        console.log(valid);\n        if( !valid ) return;\n        // 发起请求\n        const {data:res} = await this.$http.post(\"addUser\",this.addForm);\n        if (res != \"success\") {\n          userinfo.state = !userinfo.state;\n          return this.$message.error(\"操作失败！！！\");\n        }\n        this.$message.success(\"操作成功！！！\");\n        //隐藏\n        this.addDialogVisible = false;\n        this.getUserList();\n      })\n    },\n    // 展示修改框\n    async showEditDialog(id){\n\n      const {data:res} = await this.$http.get(\"getUpdate?id=\"+id);\n      // if (res != \"success\") {\n      // userinfo.state = !userinfo.state;\n      // return this.$message.error(\"操作失败！！！\");\n      // }\n      // this.$message.success(\"操作成功！！！\");\n\n      this.editForm = res;\n      this.editDialogVisible = true;\n    },\n    // 关闭窗口\n    editDialogClosed(){\n      this.$refs.editFormRef.resetFields();\n    },\n    // 确认修改\n    editUserInfo(){\n      this.$refs.editFormRef.validate(async valid =>{\n        console.log(valid);\n        if( !valid ) return;\n        // 发起请求\n        const {data:res} = await this.$http.put(\"editUser\",this.editForm);\n        console.log(res);\n        if (res != \"success\") return this.$message.error(\"操作失败！！！\");\n        this.$message.success(\"操作成功！！！\");\n        //隐藏\n        this.editDialogVisible = false;\n        this.getUserList();\n      });\n    },\n    // 删除按钮\n    async deleteUser(id){\n      // 弹框\n      const confirmResult = await this.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch(err => err)\n      // 成功删除为confirm 取消为 cancel\n      if(confirmResult!='confirm'){\n        return this.$message.info(\"已取消删除\");\n      }\n      const {data:res} = await this.$http.delete(\"deleteUser?id=\"+id);\n      if (res != \"success\") {\n        return this.$message.error(\"操作失败！！！\");\n      }\n      this.$message.success(\"操作成功！！！\");\n      this.getUserList();\n    },\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n</style>"]}]}